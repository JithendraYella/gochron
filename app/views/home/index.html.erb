<!-- <ul class="nav nav&#45;tabs"> -->
<!--   <li class="active"><a data&#45;toggle="tab" href="#home">All Events</a></li> -->
<!--   <li><a data&#45;toggle="tab" href="#menu1">Subscribed</a></li> -->
<!--   <li><a data&#45;toggle="tab" href="#menu2">Attending</a></li> -->
<!-- </ul> -->
<style>
.pop-up {
    display: none;
    position: fixed;
    width: 280px;
    padding: 10px;
    background: #eeeeee;
    color: #000000;
    border: 1px solid #1a1a1a;
    font-size: 90%;
}
</style>
<script>
      $(function() {
        var moveLeft = 20;
        var moveDown = 10;
        
        $('.trigger').hover(function(e) {
$trigger = $(this);
$content = $trigger.next();
          $content.show();
        }, function() {
          $content.hide();
        });
        
        $('.trigger').mousemove(function(e) {
$trigger = $(this);
$content = $trigger.next()
          $content.css('top', e.pageY + moveDown).css('left', e.pageX + moveLeft);
        });
        
      });
    </script>

<div class="row navbar-clearance">
  <div class="btn-group" role="group" aria-label="FilterButtons">
    <%= link_to 'All Events',root_path(:request_type => 'All'), :class => is_active?("All") %>
    <%= link_to 'Attending',root_path(:request_type => 'Attending'), :class => is_active?("Attending") %>
    <%= link_to 'Subscribed',root_path(:request_type => 'Subscribed'), :class => is_active?("Subscribed") %>
  </div>
  <hr/>
</div>
<div class="row">
  <div class="col-xs-9">
    <div class="tab-content">
      <div id="home" class="tab-pane fade in active">
        <h3 id="month">
          <%= link_to '', root_path(date: @date.prev_month), class: "btn btn-default btn-sm glyphicon glyphicon-chevron-left"  %>
          <%= @date.strftime("%B %Y")%>
          <%= link_to '', root_path(date: @date.next_month), class: "btn btn-default btn-sm glyphicon glyphicon-chevron-right"  %>
        </h3>
        <div id="article">
          <%= calendar @date do |date| %>
            <a href="/events/new" style="color:black"><%= date.day %></a>
            <% @event_by_date.each do |key,value|%>
              <%if key.to_s==date.to_s%>
                <ul>
                  <%value.each do |val|%>
                    <li><a href="#" class="trigger"><%= val.title %></a>
	<div class="pop-up">
        <h3><%= val.title %></h3>
        <p><%=val.description%></p>
      <p><span class="glyphicon glyphicon-home">&nbsp</span><%=val.location%></p>
      <p><span class="glyphicon glyphicon-time">&nbsp</span><%=val.datetime.strftime("%b %dth %Y %I:%M%P")%></p>
      </div></li>
                  <%end%>
                </ul>
              <%end%>
            <%end%>
          <% end %>
        </div>
      </div>
      <div id="menu1" class="tab-pane fade">
        <h3 id="month">
          <%= link_to "<", date: @date.prev_month %>
          <%= @date.strftime("%B %Y")%>
          <%= link_to ">", date: @date.next_month %>
        </h3>
        <div id="article">
          <%= calendar @date do |date| %>
            <%= date.day %>
          <% end %>
        </div>
      </div>
      <div id="menu2" class="tab-pane fade">
        <h3 id="month">
          <%= link_to "<", date: @date.prev_month %>
          <%= @date.strftime("%B %Y")%>
          <%= link_to ">", date: @date.next_month %>
        </h3>
        <div id="article">
          <%= calendar @date do |date| %>
            <%= date.day %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xs-3">
    <div class="scroll">
      <%@event.each do |eve|%>
        <%if eve.datetime>Time.new%>
          <div class="container">
            <div class="header"><span>
                <h3><%=eve.title%></h3>
              </span>
            </div>
            <div class="content" style="display: none;">
              <p><%=eve.description%></p>
              <p><span class="glyphicon glyphicon-home">&nbsp</span><%=eve.location%></p>
              <p><span class="glyphicon glyphicon-time">&nbsp</span><%=eve.datetime.strftime("%b %dth %Y %I:%M%P")%></p>
              <p><%=eve.link%></p>
            </div>
            <hr>
          </div>
        <%end%>
      <%end%>
    </div>
  </div>
</div>
</div>
<script>
  $(".header").hover(function () {
      $header = $(this);
      //getting the next element
      $content = $header.next();
      //open up the content needed - toggle the slide- if visible, slide up, if not slidedown.
      $content.slideToggle(500, function () {
          //execute this after slideToggle is done
          //change text of header based on visibility of content div
      });
  });
</script>
<script>
      $(function() {
        $('.trigger').hover(function(e) {
	$trigger = $(this);
	$content = $trigger.next();
          $content.show();
        }, function() {
          $content.hide();
        });        
      });
</script>


